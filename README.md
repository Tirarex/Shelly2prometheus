Getting Started
---------------

To use Shelly2prometheus, you will need to have a Shelly smart socket set up on your network. You will also need to have Docker installed on the machine where you want to run the Shelly2prometheus container.

## Installing
    docker run -p 3333:3333 -e JSON_LINK=http://192.168.88.22/rpc/Shelly.GetStatus -e APOWER_GAUGE_NAME=shelly_apower -e VOLTAGE_GAUGE_NAME=shelly_voltage -e UPDATE_RATEMS=5000 tirarex/shelly2prometheus:latest

Visit `http://DockerIP:3333/metrics` in your web browser to see the metrics page generated by Shelly2prometheus.

Configuration
-------------
Shelly2prometheus is configured using environment variables. The following environment variables are available:

-   `JSON_LINK`: The URL of the JSON API endpoint on the Shelly smart socket. This endpoint should return a JSON object with the socket's current status. Default: `http://192.168.88.22/rpc/Shelly.GetStatus`.
-   `APOWER_GAUGE_NAME`: The name of the Prometheus gauge that will be used to report the socket's power. Default: `shelly_apower`.
-   `VOLTAGE_GAUGE_NAME`: The name of the Prometheus gauge that will be used to report the socket's voltage. Default: `shelly_voltage`.
-   `UPDATE_RATEMS`: The frequency (in milliseconds) at which Shelly2prometheus should update the metrics. Default: `5000`.

To set these environment variables when running the Docker container, use the `-e` flag followed by the variable name and value. For example, to set the `JSON_LINK` variable to `http://192.168.1.100/status`, use:

    `docker run -p 3333:3333 -e JSON_LINK=http://192.168.1.100/status shelly2prometheus`

Contributing
------------

If you would like to contribute to Shelly2prometheus, feel free to open a pull request or an issue on the GitHub repository.

 